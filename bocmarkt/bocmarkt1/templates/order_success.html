{% extends 'master.html' %}

{% block title %}Order Successful{% endblock %}

{% block content %}
{# ========================= SUCCESS CONTAINER ========================= #}
<div class="success-container">
    <div class="success-content">
        <i class="fas fa-check-circle success-icon"></i>
        <h1>Order Submitted Successfully!</h1>
        <p>Thank you for your order. Your order number is #{{ order.id }}</p>
        <div class="redirect-message">
            <p>You will be redirected to the marketplace in <span id="countdown">5</span> seconds</p>
            <p>Or <a href="{% url 'marketplace' %}" class="redirect-link">click here</a> to go now</p>
        </div>
    </div>
</div>

{# ========================= STYLES SECTION ========================= #}
<style>
    /* Container Styles */
    .success-container {
        min-height: 80vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }

    .success-content {
        text-align: center;
        background: white;
        padding: 40px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        max-width: 500px;
        width: 100%;
    }

    /* Icon Styles */
    .success-icon {
        font-size: 4em;
        color: #333333ad;
        margin-bottom: 20px;
    }

    /* Text Styles */
    .success-content h1 {
        color: #666;
        margin-bottom: 15px;
    }

    .success-content p {
        color: #666;
        margin-bottom: 20px;
    }

    /* Redirect Message Styles */
    .redirect-message {
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid #eee;
    }

    .redirect-link {
        color: #666;
        text-decoration: none;
        font-weight: bold;
    }

    .redirect-link:hover {
        text-decoration: underline;
    }
</style>

{# ========================= SCRIPTS SECTION ========================= #}
<script>
    // Countdown and Redirect
    let seconds = 5;
    const countdownElement = document.getElementById('countdown');
    
    const countdown = setInterval(() => {
        seconds--;
        countdownElement.textContent = seconds;
        
        if (seconds <= 0) {
            clearInterval(countdown);
            window.location.href = '{% url "marketplace" %}';
        }
    }, 1000);
</script>
{% endblock %}